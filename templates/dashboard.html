<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recent Matches</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="{{ url_for('static', filename='s_requests.js') }}"></script>
  <script src="{{ url_for('static', filename='s_matches.js') }}"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center p-6">

  <div class="fixed top-0 left-0 p-4 z-10 flex space-x-2">
    <button id="home" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold">Home</button>
    <button id="leaderboard" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold">Leaderboard</button>
    <button id="test" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold">Test</button>
    <button id="test2" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold">Test2</button>
  </div>
  
  <div class="container w-full max-w-4xl mt-16">
    <div class="card p-6 sm:p-8">
      <text class="text-xl mb-2 block font-medium text-gray-300">{{ ign | default('Guest', true) }}</text>
      <h2 class="font-mono text-4xl font-bold mb-4 border-b border-gray-700 pb-2">Recent Match History</h2> 

      <div>
        
      </div>

      <div class="match-list grid gap-4"> 
        {% for match in games %}
  <div class="match-card flex flex-col sm:flex-row justify-between items-center bg-gray-800 rounded-xl p-4 shadow-md">
    
    <!-- Left side: Win/Loss + Champion -->
    <div class="flex flex-col space-y-0 w-full sm:w-1/4 mb-2 sm:mb-0 flex-shrink-0">
      <span class="text-s font-medium text-gray-400">{{ match.queuetype }}</span>
      <span class="text-xl font-black tracking-widest">
        {% if match.winloss %}
          <span class="win">Victory</span>
        {% else %}
          <span class="loss">Defeat</span>
        {% endif %}
      </span>
      <span class="text-lg font-semibold flex items-center">{{ match.champused }}</span>
    </div>

          <!-- Center: KDA -->
          <div class="text-center w-full sm:w-1/3 py-3 sm:py-0 sm:px-4 border-y border-white/20 sm:border-y-0 sm:border-x sm:border-white/20">
            <p class="text-2xl font-mono-stats">
              <span class="text-white font-extrabold">{{ match.kills }}</span> / 
              <span class="text-yellow-400 font-extrabold">{{ match.deaths }}</span> / 
              <span class="text-blue-400 font-extrabold">{{ match.assists }}</span>
            </p>
            <p class="text-sm font-semibold text-gray-300 mt-1">
              KDA: <span class="text-lg font-bold">{{ match.kda }}</span>
            </p>
          </div>

          <!-- Right side: Duration + Review button -->
          <div class="text-left sm:text-right w-full sm:w-1/4 pt-3 sm:pt-0 flex flex-col items-end flex-shrink-0">
            <p class="text-xs text-gray-400">Duration:</p>
            <p class="font-bold text-lg font-mono-stats">
              {{ "%d:%02d" | format(match.gamedurationminutes, match.gamedurationseconds) }}
            </p>
            <button class="review" data-matchid="{{match.matchid}}">Review</button>
          </div>

        </div>
      {% endfor %}

      </div>
    </div>
  </div>
</body>
</html>